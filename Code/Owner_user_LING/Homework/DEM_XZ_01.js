/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var DSM = ee.Image("projects/ee-glj320104/assets/Home_work/xzDSM"),
    RGB = ee.Image("projects/ee-glj320104/assets/Home_work/xzRGB"),
    table = ee.FeatureCollection("projects/ee-glj320104/assets/Home_work/njxz_roi"),
    Water = 
    /* color: #2ed6d0 */
    /* shown: false */
    ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89665440489172,
                    31.897375100823023
                  ],
                  [
                    118.89659807850136,
                    31.897270350277562
                  ],
                  [
                    118.89649079013941,
                    31.897220252148475
                  ],
                  [
                    118.89641837049513,
                    31.897162183828403
                  ],
                  [
                    118.8964116649725,
                    31.897123471594664
                  ],
                  [
                    118.8964559214218,
                    31.897101838280467
                  ],
                  [
                    118.89649079013941,
                    31.89705174005973
                  ],
                  [
                    118.89652834106609,
                    31.897033522518118
                  ],
                  [
                    118.89656991530632,
                    31.897039215500243
                  ],
                  [
                    118.89668256808635,
                    31.897084759344626
                  ],
                  [
                    118.89675498773065,
                    31.897141689118442
                  ],
                  [
                    118.89681399632973,
                    31.897129164571254
                  ],
                  [
                    118.89690921475092,
                    31.8971883715067
                  ],
                  [
                    118.89697492887261,
                    31.89717812415521
                  ],
                  [
                    118.89699504544045,
                    31.897238469653118
                  ],
                  [
                    118.89692262579614,
                    31.897297676518278
                  ],
                  [
                    118.89690519143734,
                    31.897335250086044
                  ],
                  [
                    118.8968542294846,
                    31.89738420955947
                  ],
                  [
                    118.89685020615093,
                    31.897414951542324
                  ],
                  [
                    118.8968555705688,
                    31.897470742521122
                  ],
                  [
                    118.89686227609238,
                    31.897556136810675
                  ],
                  [
                    118.89685557056998,
                    31.897636976665055
                  ],
                  [
                    118.89682204295683,
                    31.897664302796947
                  ],
                  [
                    118.89681533743422,
                    31.89770301480327
                  ],
                  [
                    118.8967241423266,
                    31.897698460450435
                  ],
                  [
                    118.89672548343125,
                    31.897557275400626
                  ],
                  [
                    118.89670268465422,
                    31.89749009856712
                  ],
                  [
                    118.8966745214592,
                    31.89740584280826
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89733206864503,
                    31.897396024341788
                  ],
                  [
                    118.89729854103234,
                    31.897336817540616
                  ],
                  [
                    118.89719125267175,
                    31.897281026481565
                  ],
                  [
                    118.89713492628243,
                    31.897278749294767
                  ],
                  [
                    118.89712419744637,
                    31.897219542418153
                  ],
                  [
                    118.89712017413285,
                    31.897187661776506
                  ],
                  [
                    118.89728647109177,
                    31.89713528641271
                  ],
                  [
                    118.89737096067574,
                    31.89709429697677
                  ],
                  [
                    118.8974353336921,
                    31.897037367174367
                  ],
                  [
                    118.89754530426171,
                    31.896921230268283
                  ],
                  [
                    118.89761235948708,
                    31.896818756405967
                  ],
                  [
                    118.89764320489076,
                    31.896766380832275
                  ],
                  [
                    118.89770087238455,
                    31.896835835390934
                  ],
                  [
                    118.89771964784765,
                    31.896936032038973
                  ],
                  [
                    118.89771026011613,
                    31.897006625066417
                  ],
                  [
                    118.89767673250344,
                    31.897040782963508
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89720709288042,
                    31.89879614762071
                  ],
                  [
                    118.89707030022066,
                    31.898771098975068
                  ],
                  [
                    118.896952283024,
                    31.898723278814458
                  ],
                  [
                    118.89688791000765,
                    31.898652687103386
                  ],
                  [
                    118.89685840570849,
                    31.898561600944596
                  ],
                  [
                    118.89688522779863,
                    31.898317945026825
                  ],
                  [
                    118.89683963024538,
                    31.89801052776185
                  ],
                  [
                    118.89680207931917,
                    31.897869343192433
                  ],
                  [
                    118.89679403269213,
                    31.897785087781727
                  ],
                  [
                    118.89689327442568,
                    31.89779191930439
                  ],
                  [
                    118.89692814314287,
                    31.897810136695654
                  ],
                  [
                    118.89694960081499,
                    31.89791716379664
                  ],
                  [
                    118.89699251615923,
                    31.898092505799553
                  ],
                  [
                    118.89704347813051,
                    31.898256461655958
                  ],
                  [
                    118.89714003765505,
                    31.898484177638775
                  ],
                  [
                    118.89721245729845,
                    31.898504672049587
                  ],
                  [
                    118.89724732601564,
                    31.898566155254688
                  ],
                  [
                    118.89732511007708,
                    31.89860486688127
                  ],
                  [
                    118.89738143646639,
                    31.898636747032118
                  ],
                  [
                    118.89742166960161,
                    31.898721001663336
                  ],
                  [
                    118.89748604261797,
                    31.898732387418402
                  ],
                  [
                    118.89758796656054,
                    31.89880753336649
                  ],
                  [
                    118.89773280584734,
                    31.898875847811535
                  ],
                  [
                    118.89797420465868,
                    31.898932776476983
                  ],
                  [
                    118.8980144377939,
                    31.898991982251722
                  ],
                  [
                    118.89789373838823,
                    31.89897604223919
                  ],
                  [
                    118.89774889910143,
                    31.89893049933105
                  ],
                  [
                    118.89768184387606,
                    31.898903173575352
                  ],
                  [
                    118.89755041563433,
                    31.898859907778895
                  ],
                  [
                    118.89747531378191,
                    31.898837136298887
                  ],
                  [
                    118.89730365240496,
                    31.89880753336649
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89775884522783,
                    31.894687440878172
                  ],
                  [
                    118.8979170955597,
                    31.894721599635716
                  ],
                  [
                    118.89808607472764,
                    31.894680609125135
                  ],
                  [
                    118.89816654099809,
                    31.89463278683971
                  ],
                  [
                    118.89821213855134,
                    31.89458041002242
                  ],
                  [
                    118.89826846494066,
                    31.894598628049213
                  ],
                  [
                    118.89829796923982,
                    31.89463278683971
                  ],
                  [
                    118.89831406249391,
                    31.89467833187401
                  ],
                  [
                    118.89838648213731,
                    31.894701104382715
                  ],
                  [
                    118.89845085515367,
                    31.894814966841707
                  ],
                  [
                    118.89847231282579,
                    31.894899224970715
                  ],
                  [
                    118.89848035945283,
                    31.89494249262861
                  ],
                  [
                    118.89852595700609,
                    31.89494476987322
                  ],
                  [
                    118.89856887235032,
                    31.894933383649693
                  ],
                  [
                    118.89867884291994,
                    31.895049523063427
                  ],
                  [
                    118.89882368220674,
                    31.895126949257858
                  ],
                  [
                    118.89896583928453,
                    31.89514744441608
                  ],
                  [
                    118.89904362334596,
                    31.895145167176505
                  ],
                  [
                    118.89916968716966,
                    31.895272692506047
                  ],
                  [
                    118.89898461474763,
                    31.895302296575117
                  ],
                  [
                    118.89878881348955,
                    31.89533417786967
                  ],
                  [
                    118.89862788094865,
                    31.89525447461264
                  ],
                  [
                    118.89846158398973,
                    31.895222593290505
                  ],
                  [
                    118.89830601586686,
                    31.895359227450466
                  ],
                  [
                    118.89837843551027,
                    31.895473089095567
                  ],
                  [
                    118.89832210912095,
                    31.895545960474504
                  ],
                  [
                    118.89812899007188,
                    31.895810118739696
                  ],
                  [
                    118.89806461705552,
                    31.896108434489957
                  ],
                  [
                    118.89791441335069,
                    31.896393086022186
                  ],
                  [
                    118.89783394708024,
                    31.89648872873946
                  ],
                  [
                    118.89776420964586,
                    31.89660258898761
                  ],
                  [
                    118.89772665871965,
                    31.896575262540914
                  ],
                  [
                    118.89780176057207,
                    31.896377145559637
                  ],
                  [
                    118.89795464648591,
                    31.89599457363063
                  ],
                  [
                    118.89793855323182,
                    31.89585794041359
                  ],
                  [
                    118.89797847688158,
                    31.895484475252328
                  ],
                  [
                    118.89797311246355,
                    31.895372890855324
                  ],
                  [
                    118.89800261676271,
                    31.895206652625294
                  ],
                  [
                    118.8979015926576,
                    31.895056369480017
                  ],
                  [
                    118.89783185522322,
                    31.89501082463273
                  ],
                  [
                    118.89784526626829,
                    31.894915180380117
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89873167484723,
                    31.890635606879673
                  ],
                  [
                    118.898871149716,
                    31.890904333922048
                  ],
                  [
                    118.89918817087488,
                    31.891301253902466
                  ],
                  [
                    118.89989463007896,
                    31.892555542459657
                  ],
                  [
                    118.90007165587394,
                    31.892856146051503
                  ],
                  [
                    118.90034792182827,
                    31.893343485270726
                  ],
                  [
                    118.90067783511131,
                    31.893812605496404
                  ],
                  [
                    118.9006939283654,
                    31.893885478189624
                  ],
                  [
                    118.9005329958245,
                    31.89407221420272
                  ],
                  [
                    118.90055981791465,
                    31.893885478189624
                  ],
                  [
                    118.9004954448983,
                    31.89371695999902
                  ],
                  [
                    118.90023795283287,
                    31.893316158738973
                  ],
                  [
                    118.90005556261985,
                    31.893056547900844
                  ],
                  [
                    118.89985707915275,
                    31.89299733830893
                  ],
                  [
                    118.89974442637413,
                    31.89292446491278
                  ],
                  [
                    118.89967468893974,
                    31.892819709304764
                  ],
                  [
                    118.89970151102989,
                    31.89266485297024
                  ],
                  [
                    118.89972251636448,
                    31.89248055642159
                  ],
                  [
                    118.89949721080723,
                    31.892029648826497
                  ],
                  [
                    118.89932554943027,
                    31.891751815774548
                  ],
                  [
                    118.8990412352747,
                    31.891310013949088
                  ],
                  [
                    118.89886957389774,
                    31.891059506817687
                  ],
                  [
                    118.89873009902897,
                    31.89096841314638
                  ],
                  [
                    118.89866036159458,
                    31.890736123876685
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89846134191703,
                    31.899142672058346
                  ],
                  [
                    118.89849621063422,
                    31.899092574948817
                  ],
                  [
                    118.89853644376944,
                    31.89912217778956
                  ],
                  [
                    118.89859277015876,
                    31.899185937721903
                  ],
                  [
                    118.89869737631034,
                    31.899238311919
                  ],
                  [
                    118.89876711374473,
                    31.899279300400288
                  ],
                  [
                    118.89885026222419,
                    31.89932256599962
                  ],
                  [
                    118.89877784258078,
                    31.899365831578628
                  ],
                  [
                    118.89877516037177,
                    31.899468302605666
                  ],
                  [
                    118.8988529444332,
                    31.89949107392952
                  ],
                  [
                    118.8989253640766,
                    31.899668690062263
                  ],
                  [
                    118.89896559721183,
                    31.899951053465184
                  ],
                  [
                    118.89898973709296,
                    31.90014950446809
                  ],
                  [
                    118.89893877512168,
                    31.900210986574596
                  ],
                  [
                    118.898815393507,
                    31.900229203487147
                  ],
                  [
                    118.89893341070365,
                    31.90012445619073
                  ],
                  [
                    118.89890390640448,
                    31.899873973042038
                  ],
                  [
                    118.898815393507,
                    31.899616657825025
                  ],
                  [
                    118.89878320699881,
                    31.899518741226082
                  ],
                  [
                    118.89875236155707,
                    31.899420824491216
                  ],
                  [
                    118.89870005851934,
                    31.899350233346837
                  ],
                  [
                    118.89861691003989,
                    31.899250039326454
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89244379041344,
                    31.892600018636625
                  ],
                  [
                    118.8922935867086,
                    31.89240872502327
                  ],
                  [
                    118.89241696832329,
                    31.892226540260086
                  ],
                  [
                    118.8923472308889,
                    31.892080792189997
                  ],
                  [
                    118.89244379041344,
                    31.891980590257994
                  ],
                  [
                    118.89268518922478,
                    31.89187583357612
                  ],
                  [
                    118.8929587745443,
                    31.89192137997419
                  ],
                  [
                    118.89316262242943,
                    31.891739194246735
                  ],
                  [
                    118.89354349610954,
                    31.8922128763883
                  ],
                  [
                    118.89263690946251,
                    31.892440607319745
                  ],
                  [
                    118.89241696832329,
                    31.892631900866895
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class": 1,
          "system:index": "0"
        }),
    Road = 
    /* color: #565656 */
    /* shown: false */
    ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89329754980093,
                    31.896094993518748
                  ],
                  [
                    118.89323988230711,
                    31.89589459828292
                  ],
                  [
                    118.89323585899359,
                    31.89583880634985
                  ],
                  [
                    118.89328950317389,
                    31.89583311329356
                  ],
                  [
                    118.8933270541001,
                    31.895802370783485
                  ],
                  [
                    118.8933820393849,
                    31.89577959854719
                  ],
                  [
                    118.89341020257956,
                    31.895752271856203
                  ],
                  [
                    118.8934960332681,
                    31.895747717406934
                  ],
                  [
                    118.8935255375672,
                    31.89576593520271
                  ],
                  [
                    118.89358186395651,
                    31.895735192670198
                  ],
                  [
                    118.8936328259278,
                    31.89572836099492
                  ],
                  [
                    118.8936690357495,
                    31.895756826305245
                  ],
                  [
                    118.89371463330275,
                    31.895743162957384
                  ],
                  [
                    118.89371865661627,
                    31.895720390706433
                  ],
                  [
                    118.89376827748305,
                    31.895702172901622
                  ],
                  [
                    118.89384606154448,
                    31.895690786771784
                  ],
                  [
                    118.89387958915717,
                    31.895707865966006
                  ],
                  [
                    118.89393591554648,
                    31.895702172901622
                  ],
                  [
                    118.89396541984564,
                    31.895670291734525
                  ],
                  [
                    118.89411294134146,
                    31.89564751946556
                  ],
                  [
                    118.89417597325331,
                    31.89565548976033
                  ],
                  [
                    118.89420011313445,
                    31.895642965011074
                  ],
                  [
                    118.89426985056883,
                    31.895638410556387
                  ],
                  [
                    118.89434763463026,
                    31.895637271942665
                  ],
                  [
                    118.89430740149504,
                    31.89565776698728
                  ],
                  [
                    118.89378034742361,
                    31.895743162957384
                  ],
                  [
                    118.89355906517989,
                    31.895780737159125
                  ],
                  [
                    118.89354028971678,
                    31.895843360794643
                  ],
                  [
                    118.89356308849341,
                    31.89596633071861
                  ],
                  [
                    118.89359527500159,
                    31.896006182047607
                  ],
                  [
                    118.89420279534346,
                    31.895917370490768
                  ],
                  [
                    118.8943731156159,
                    31.895887766619474
                  ],
                  [
                    118.89435836346632,
                    31.895918509101026
                  ],
                  [
                    118.89411025913245,
                    31.89594469713277
                  ],
                  [
                    118.89405493858831,
                    31.895965192145297
                  ],
                  [
                    118.89399961803326,
                    31.895962914939265
                  ],
                  [
                    118.89386349590313,
                    31.89599024151806
                  ],
                  [
                    118.8938098517276,
                    31.89599365735756
                  ],
                  [
                    118.89375352533347,
                    31.896006182047607
                  ],
                  [
                    118.89372938545233,
                    31.896031231445583
                  ],
                  [
                    118.89364355476386,
                    31.896028954227848
                  ],
                  [
                    118.89354163082129,
                    31.896080191612846
                  ],
                  [
                    118.89351078541762,
                    31.896110934030148
                  ],
                  [
                    118.89348798664099,
                    31.89608246882931
                  ],
                  [
                    118.8934343424607,
                    31.896055142228196
                  ],
                  [
                    118.89335521729475,
                    31.896054003619646
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89438864214111,
                    31.89590748956001
                  ],
                  [
                    118.89439132435012,
                    31.895860806522837
                  ],
                  [
                    118.89440071208168,
                    31.895753777031164
                  ],
                  [
                    118.89436450225998,
                    31.895699123625736
                  ],
                  [
                    118.89435511452842,
                    31.895638777119537
                  ],
                  [
                    118.89437791330505,
                    31.895582985031435
                  ],
                  [
                    118.89440875870872,
                    31.895532885984743
                  ],
                  [
                    118.89444496853042,
                    31.8954827869108
                  ],
                  [
                    118.89446776730705,
                    31.895433826425844
                  ],
                  [
                    118.8944945893972,
                    31.895434965042057
                  ],
                  [
                    118.89446374399353,
                    31.89559323256036
                  ],
                  [
                    118.89447447282959,
                    31.895727588945093
                  ],
                  [
                    118.89447313172508,
                    31.895774272049845
                  ],
                  [
                    118.89447044951606,
                    31.895830064021997
                  ],
                  [
                    118.89451135318028,
                    31.895841450126266
                  ],
                  [
                    118.89455225689102,
                    31.895934816204935
                  ],
                  [
                    118.89456298572708,
                    31.895991746689155
                  ],
                  [
                    118.8945133648603,
                    31.89594050925495
                  ],
                  [
                    118.89445435626197,
                    31.895927984544468
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89587870770936,
                    31.893025795974395
                  ],
                  [
                    118.89587334329133,
                    31.892825394058104
                  ],
                  [
                    118.89581165248399,
                    31.892784402703327
                  ],
                  [
                    118.89579824143891,
                    31.89276390701909
                  ],
                  [
                    118.89549246961121,
                    31.892761629720546
                  ],
                  [
                    118.89524034196381,
                    31.892757075123342
                  ],
                  [
                    118.89494798118119,
                    31.893050846183268
                  ],
                  [
                    118.894913112464,
                    31.893044014308785
                  ],
                  [
                    118.8952188842917,
                    31.89274341133028
                  ],
                  [
                    118.8952376597548,
                    31.892597664078355
                  ],
                  [
                    118.89530471498017,
                    31.89259994138093
                  ],
                  [
                    118.89530739718919,
                    31.892645487420822
                  ],
                  [
                    118.89545223647599,
                    31.89263410091298
                  ],
                  [
                    118.8955085628653,
                    31.892593109473015
                  ],
                  [
                    118.89552465611939,
                    31.892681924236513
                  ],
                  [
                    118.89547905856614,
                    31.892711529138637
                  ],
                  [
                    118.89551660949235,
                    31.89272974753521
                  ],
                  [
                    118.89579019481187,
                    31.892727470235844
                  ],
                  [
                    118.89583042794709,
                    31.892725192936407
                  ],
                  [
                    118.89583579236512,
                    31.892768461615994
                  ],
                  [
                    118.89591625863557,
                    31.89280489838301
                  ],
                  [
                    118.89595112735276,
                    31.89281856216693
                  ],
                  [
                    118.8959216230536,
                    31.89290737671296
                  ],
                  [
                    118.89592698747163,
                    31.893034905142034
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8979225430212,
                    31.89206983817978
                  ],
                  [
                    118.8979225430212,
                    31.891573382025722
                  ],
                  [
                    118.8976891908369,
                    31.891552886071903
                  ],
                  [
                    118.89769187304591,
                    31.89141169159951
                  ],
                  [
                    118.89770260188197,
                    31.891379808946763
                  ],
                  [
                    118.89791717860317,
                    31.891379808946763
                  ],
                  [
                    118.8979225430212,
                    31.891354758283278
                  ],
                  [
                    118.89796814057445,
                    31.89135703561661
                  ],
                  [
                    118.89798691603755,
                    31.89137753161399
                  ],
                  [
                    118.89818808171367,
                    31.891375254281193
                  ],
                  [
                    118.89818808171367,
                    31.891575659353638
                  ],
                  [
                    118.89797886941051,
                    31.891580214009313
                  ],
                  [
                    118.89797886941051,
                    31.892092611333656
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89600766075455,
                    31.89369037790296
                  ],
                  [
                    118.89603984726273,
                    31.893738200677884
                  ],
                  [
                    118.89598217978167,
                    31.89375641887655
                  ],
                  [
                    118.8959459699472,
                    31.893788300701157
                  ],
                  [
                    118.89591378343903,
                    31.893806518884684
                  ],
                  [
                    118.89586818588577,
                    31.893870282498632
                  ],
                  [
                    118.89584941042267,
                    31.89386800522746
                  ],
                  [
                    118.89581185949646,
                    31.8938247370646
                  ],
                  [
                    118.89569116009079,
                    31.89382701433684
                  ],
                  [
                    118.89568579567276,
                    31.893806518884684
                  ],
                  [
                    118.89580381286942,
                    31.893792855247373
                  ],
                  [
                    118.89593255890213,
                    31.893756418871334
                  ],
                  [
                    118.8959620632013,
                    31.893624336887257
                  ],
                  [
                    118.89601034296356,
                    31.893624336887257
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89792512613323,
                    31.893660054930237
                  ],
                  [
                    118.89794121938732,
                    31.892539628155088
                  ],
                  [
                    118.89800022798565,
                    31.89254873737084
                  ],
                  [
                    118.89795731264141,
                    31.89266260249163
                  ],
                  [
                    118.89798413473156,
                    31.893669164035153
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89620037554181,
                    31.895517307390623
                  ],
                  [
                    118.89617355345166,
                    31.895421663664145
                  ],
                  [
                    118.89630229948438,
                    31.895403445800227
                  ],
                  [
                    118.89625938414014,
                    31.895216712487112
                  ],
                  [
                    118.896414952263,
                    31.895239484862664
                  ],
                  [
                    118.89647396086133,
                    31.895581069819723
                  ],
                  [
                    118.89647396086133,
                    31.895685822285962
                  ],
                  [
                    118.89637203691876,
                    31.89561750547367
                  ],
                  [
                    118.89633448599255,
                    31.895476317234298
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89598499409857,
                    31.89590675847962
                  ],
                  [
                    118.89606009595099,
                    31.895747352887962
                  ],
                  [
                    118.89605473153296,
                    31.895578838105212
                  ],
                  [
                    118.89600645177069,
                    31.89531923364715
                  ],
                  [
                    118.8960815536231,
                    31.895414877480032
                  ],
                  [
                    118.89610837571325,
                    31.895601610391175
                  ],
                  [
                    118.89606546036902,
                    31.895893095154026
                  ],
                  [
                    118.89588843457403,
                    31.896129925844264
                  ],
                  [
                    118.89585088364782,
                    31.896098044825305
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8971946876011,
                    31.899718032439907
                  ],
                  [
                    118.89807445215799,
                    31.89986376841984
                  ],
                  [
                    118.89817637610055,
                    31.899822780198797
                  ],
                  [
                    118.89830512213327,
                    31.89969981542619
                  ],
                  [
                    118.89782232451059,
                    31.899686152663524
                  ],
                  [
                    118.89778477358438,
                    31.89962239307766
                  ],
                  [
                    118.89798325705148,
                    31.89962239307766
                  ],
                  [
                    118.89843386816598,
                    31.89963605584979
                  ],
                  [
                    118.89841777491189,
                    31.899790900458726
                  ],
                  [
                    118.89822465586282,
                    31.899877431156142
                  ],
                  [
                    118.89814418959237,
                    31.89988198540112
                  ],
                  [
                    118.89801544355966,
                    31.89992752783851
                  ],
                  [
                    118.89717859434701,
                    31.899786346209222
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89407259630777,
                    31.898005617461944
                  ],
                  [
                    118.89408868956185,
                    31.89791908500497
                  ],
                  [
                    118.89503819155313,
                    31.89792363934684
                  ],
                  [
                    118.89507574247934,
                    31.897991954447814
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89899830307363,
                    31.89644473962164
                  ],
                  [
                    118.89910559143422,
                    31.89642652196016
                  ],
                  [
                    118.89912168468831,
                    31.896294443806614
                  ],
                  [
                    118.89917532886861,
                    31.896271671692045
                  ],
                  [
                    118.89917532886861,
                    31.896494838172114
                  ],
                  [
                    118.89901439632771,
                    31.896499392584442
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89987387063437,
                    31.89343599168499
                  ],
                  [
                    118.9000240743392,
                    31.89366371959129
                  ],
                  [
                    118.90008844735556,
                    31.893827683335065
                  ],
                  [
                    118.90001870992117,
                    31.89378669242651
                  ],
                  [
                    118.89983631970816,
                    31.89348609187268
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8942987872987,
                    31.891227605074388
                  ],
                  [
                    118.89460992354442,
                    31.891787828148825
                  ],
                  [
                    118.89473330515911,
                    31.8918925849308
                  ],
                  [
                    118.89458310145427,
                    31.891919912767367
                  ],
                  [
                    118.89418077010204,
                    31.89126859712222
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89600467223217,
                    31.891632970078863
                  ],
                  [
                    118.89648210543682,
                    31.89163752473169
                  ],
                  [
                    118.89647137660076,
                    31.891683071247645
                  ],
                  [
                    118.89598857897808,
                    31.891673961946243
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class": 2,
          "system:index": "0"
        }),
    Grass = 
    /* color: #30c420 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[118.89394235605099, 31.89671895840115],
               [118.89401209348537, 31.8965732174425],
               [118.89409792417385, 31.896577771850932],
               [118.89400672906734, 31.896741730405108]]],
             [[[118.89393162721493, 31.8963500511524],
               [118.89384579652645, 31.896327279051594],
               [118.89381361001827, 31.896231636166565],
               [118.89398527139522, 31.89627718040993]]],
             [[[118.89300996981665, 31.89402813598561],
               [118.8938843699555, 31.893522581271796],
               [118.89417941294714, 31.894155662862342],
               [118.89321381770178, 31.89450636086264],
               [118.89314944468542, 31.8943742799544]]],
             [[[118.89530057631536, 31.893946154328685],
               [118.89557952605291, 31.894005363310445],
               [118.89554733954473, 31.89416477191821],
               [118.89538104258581, 31.894146553805594]]],
             [[[118.89608905203887, 31.89113285251862],
               [118.89645919688293, 31.891119188484556],
               [118.89648065455505, 31.891237610045764],
               [118.89615878947326, 31.891246719390317]]],
             [[[118.8968507993991, 31.891009876139048],
               [118.89685616381713, 31.89084590737745],
               [118.89722094424316, 31.8909734386617],
               [118.89725849516937, 31.89103720423759]]],
             [[[118.8976236092953, 31.894255928412466],
               [118.89750022768061, 31.894128401674607],
               [118.89769334672968, 31.894064638239403],
               [118.89780599950831, 31.894183056012448]]],
             [[[118.89788646577875, 31.894151174319312],
               [118.89779527067225, 31.89399176568801],
               [118.89800984739344, 31.89400998383126],
               [118.89800448297541, 31.894137510733163]]],
             [[[118.8975163209347, 31.89449276331417],
               [118.8976236092953, 31.894392564007035],
               [118.89774699090998, 31.894474545266437],
               [118.89764506696741, 31.894547417435756]]],
             [[[118.89424094294596, 31.896402859163718],
               [118.89440723990488, 31.896471175393227],
               [118.89429995154428, 31.896544045982193],
               [118.8941765699296, 31.89645295773699]]],
             [[[118.89441812115389, 31.896596623275695],
               [118.89455759602266, 31.896391674714327],
               [118.89468634205538, 31.896605732090066]]],
             [[[118.89589873056313, 31.8966592502724],
               [118.89581289987466, 31.896577270958375],
               [118.89594164590737, 31.89654539009432],
               [118.89596846799752, 31.896490737158828],
               [118.89609721403023, 31.896577270958375]]]]),
        {
          "class": 3,
          "system:index": "0"
        }),
    Bare_ground = 
    /* color: #fffc70 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[118.89458946310305, 31.89390063778905],
               [118.89433733545565, 31.89375944691679],
               [118.89426223360323, 31.893609146718095],
               [118.89428905569338, 31.893536273806177],
               [118.89442316614412, 31.893472509960915],
               [118.89453581892275, 31.893317654724317],
               [118.89470211588167, 31.893190126686857],
               [118.89480403982424, 31.893171908381376],
               [118.89488987051271, 31.893440628021736],
               [118.89468065820955, 31.89349528276785],
               [118.89457873426699, 31.893408746071508],
               [118.89450363241457, 31.89350439188906],
               [118.89458946310305, 31.89357271026934],
               [118.89478258215212, 31.893590928495538],
               [118.89499179445528, 31.893540828364863],
               [118.89497570120119, 31.89368201957235]]],
             [[[118.89913042458856, 31.90014924250081],
               [118.89909287366235, 31.899748469243665],
               [118.89903922948206, 31.89937046559532],
               [118.8989829029345, 31.899231560228106],
               [118.89879783067072, 31.899129088959597],
               [118.89902313622797, 31.89911542611223],
               [118.89925380620325, 31.89920651172302],
               [118.8991733399328, 31.899447888155724],
               [118.89915188226068, 31.89957085326489],
               [118.89925917062128, 31.899794011747137],
               [118.89930745038355, 31.9001765678866],
               [118.89964540871942, 31.900386062241648],
               [118.89990826520288, 31.900395170681044],
               [118.90021940144861, 31.90029953202236],
               [118.90024085912073, 31.900536351376545],
               [118.89895339879358, 31.900354182696635]]],
             [[[118.89953139846862, 31.89877563806674],
               [118.89946166103424, 31.898661780506234],
               [118.89984253471435, 31.898702769244228],
               [118.90006247585357, 31.898711877850207],
               [118.90010539119781, 31.898793855263353],
               [118.89974061077179, 31.898743757963985]]]]),
        {
          "class": 4,
          "system:index": "0"
        }),
    Play_ground = 
    /* color: #d63000 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[118.89603149432232, 31.889770098180446],
               [118.89622461337139, 31.889756433944147],
               [118.89622461337139, 31.889578798687975],
               [118.8965518428712, 31.889578798687975],
               [118.89651965636303, 31.891008980510982],
               [118.89600467223217, 31.891004425827063]]],
             [[[118.89679860610057, 31.889505922586324],
               [118.89701318282177, 31.88944671071125],
               [118.89734041232158, 31.88935106067878],
               [118.89755498904277, 31.889487703551886],
               [118.89767837065746, 31.88951503210217],
               [118.89768909949352, 31.890676487992483],
               [118.89755498904277, 31.890785800733774],
               [118.89733504790355, 31.890886003965967],
               [118.89708292025615, 31.890863230513656],
               [118.8967664195924, 31.890744808470988]]],
             [[[118.89785539645244, 31.890612722166804],
               [118.89817726153423, 31.890626386276008],
               [118.89819871920635, 31.890895113345305],
               [118.89790367621471, 31.8909178867897]]],
             [[[118.89933535019712, 31.89932490884635],
               [118.89949091831998, 31.898837600406672],
               [118.89988252083616, 31.898782948832],
               [118.90008636872129, 31.898874034771787],
               [118.90024730126218, 31.898933240584284],
               [118.90023657242612, 31.900094577669023],
               [118.90008636872129, 31.900258529959572],
               [118.89977523247556, 31.90034961443923],
               [118.89954992691831, 31.900294963762256],
               [118.89933535019712, 31.900076360729834]]]]),
        {
          "class": 5,
          "system:index": "0"
        }),
    Low_veg = 
    /* color: #d63000 */
    /* shown: false */
    ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89604287934293,
                    31.892508500623144
                  ],
                  [
                    118.89599996399869,
                    31.892486866224814
                  ],
                  [
                    118.89597045969953,
                    31.892447013372507
                  ],
                  [
                    118.89595973086347,
                    31.89242310165283
                  ],
                  [
                    118.89594631981839,
                    31.892376416848897
                  ],
                  [
                    118.8960026462077,
                    31.892362752999375
                  ],
                  [
                    118.89616760206212,
                    31.892349089147817
                  ],
                  [
                    118.8962909836768,
                    31.89233542529423
                  ],
                  [
                    118.89612602782239,
                    31.892494836793215
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89618771862973,
                    31.892257996752296
                  ],
                  [
                    118.89674561810483,
                    31.892262551374206
                  ],
                  [
                    118.89673488926877,
                    31.89230240430638
                  ],
                  [
                    118.89618503642072,
                    31.892311513545593
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8965229947566,
                    31.892493698140644
                  ],
                  [
                    118.8964867849349,
                    31.892467509127275
                  ],
                  [
                    118.89648276162137,
                    31.89242310165283
                  ],
                  [
                    118.8965243358611,
                    31.892369584924392
                  ],
                  [
                    118.89655786347379,
                    31.892368446270268
                  ],
                  [
                    118.89664369416226,
                    31.892368446270268
                  ],
                  [
                    118.89669197392453,
                    31.892454983944344
                  ],
                  [
                    118.89659139108647,
                    31.892481172961276
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89698567581166,
                    31.89267815967586
                  ],
                  [
                    118.896957512617,
                    31.892618949840642
                  ],
                  [
                    118.89695348930348,
                    31.892510777927928
                  ],
                  [
                    118.8969716729639,
                    31.89224235544903
                  ],
                  [
                    118.89695692081432,
                    31.892133044436868
                  ],
                  [
                    118.89689657111148,
                    31.892055615724733
                  ],
                  [
                    118.8968643846033,
                    31.89202487195333
                  ],
                  [
                    118.89699849505405,
                    31.892020317319666
                  ],
                  [
                    118.89706018586139,
                    31.892084082170594
                  ],
                  [
                    118.89703202266674,
                    31.89229359494131
                  ],
                  [
                    118.89700385947208,
                    31.892433649408048
                  ],
                  [
                    118.89702129383068,
                    31.892499691277795
                  ],
                  [
                    118.89699447174053,
                    31.89267845954967
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89719429631214,
                    31.892637468129454
                  ],
                  [
                    118.8970427515028,
                    31.89258509017709
                  ],
                  [
                    118.89713126440029,
                    31.89252246432536
                  ],
                  [
                    118.89706420917491,
                    31.892443897287496
                  ],
                  [
                    118.89723855276088,
                    31.89248944340456
                  ],
                  [
                    118.89723989386539,
                    31.892555485234304
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8972050251482,
                    31.89222299830007
                  ],
                  [
                    118.89767843503932,
                    31.892205918459403
                  ],
                  [
                    118.89770391602497,
                    31.892308397456
                  ],
                  [
                    118.8972238006113,
                    31.892304981491264
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89567082250586,
                    31.89206366858935
                  ],
                  [
                    118.89555951083175,
                    31.892004458358958
                  ],
                  [
                    118.89557828629485,
                    31.891975991888494
                  ],
                  [
                    118.89571105564109,
                    31.891999903724273
                  ],
                  [
                    118.89574190104476,
                    31.89204772737721
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8946337883024,
                    31.892436427327027
                  ],
                  [
                    118.89470084352777,
                    31.892544599327067
                  ],
                  [
                    118.89481215520189,
                    31.892555985845977
                  ],
                  [
                    118.8947598521261,
                    31.892670989608217
                  ],
                  [
                    118.8947048668413,
                    31.892673266909004
                  ],
                  [
                    118.89464854045198,
                    31.892594699999812
                  ],
                  [
                    118.89459087295816,
                    31.892514994371254
                  ],
                  [
                    118.8945439343004,
                    31.89243187271372
                  ],
                  [
                    118.89449587258348,
                    31.892355317721663
                  ],
                  [
                    118.89455219897279,
                    31.892357595030237
                  ],
                  [
                    118.89459511431703,
                    31.892414527726412
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89634058100849,
                    31.893212442114308
                  ],
                  [
                    118.89671340806156,
                    31.893154371267066
                  ],
                  [
                    118.89671206695705,
                    31.893296701709858
                  ],
                  [
                    118.89631107670932,
                    31.8932830379969
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89535351549996,
                    31.89371650522952
                  ],
                  [
                    118.89541252409829,
                    31.893641355125794
                  ],
                  [
                    118.89554797565354,
                    31.893634523295127
                  ],
                  [
                    118.89551713024987,
                    31.893749525710263
                  ],
                  [
                    118.89562039529694,
                    31.893791655271922
                  ],
                  [
                    118.89533071672334,
                    31.893757496169325
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89676745520696,
                    31.89412216020888
                  ],
                  [
                    118.89662395702466,
                    31.894067505834858
                  ],
                  [
                    118.89663602696523,
                    31.894032208201057
                  ],
                  [
                    118.89666419015988,
                    31.894023099132095
                  ],
                  [
                    118.89673526869878,
                    31.894043594536033
                  ],
                  [
                    118.89678623067006,
                    31.89410963525103
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89735210133574,
                    31.894139277605383
                  ],
                  [
                    118.89736551238082,
                    31.894077791443774
                  ],
                  [
                    118.89740574551604,
                    31.89402199840975
                  ],
                  [
                    118.89746475411437,
                    31.894039077913533
                  ],
                  [
                    118.89745402527831,
                    31.894090316405947
                  ],
                  [
                    118.89735478354476,
                    31.894160911615458
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8984702833345,
                    31.89437610629442
                  ],
                  [
                    118.89844077903534,
                    31.894348779186835
                  ],
                  [
                    118.89842200357224,
                    31.894279322751927
                  ],
                  [
                    118.89843541461731,
                    31.89423605478237
                  ],
                  [
                    118.89853599745537,
                    31.894251995615612
                  ],
                  [
                    118.89857354838158,
                    31.894353333705336
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8988132834232,
                    31.894961797103335
                  ],
                  [
                    118.89890045521618,
                    31.894934470169613
                  ],
                  [
                    118.89924914238811,
                    31.894918529454504
                  ],
                  [
                    118.89923439023853,
                    31.894961797103335
                  ],
                  [
                    118.89886290428997,
                    31.894986846785482
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89393782550505,
                    31.896494749471408
                  ],
                  [
                    118.89396196538618,
                    31.89641163140675
                  ],
                  [
                    118.89402231508902,
                    31.896372918857875
                  ],
                  [
                    118.89403974944761,
                    31.89631371139871
                  ],
                  [
                    118.89413899118117,
                    31.896292077894504
                  ],
                  [
                    118.89413765007666,
                    31.896368364439294
                  ],
                  [
                    118.89397805864027,
                    31.89652093733924
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8946230911418,
                    31.896381480257258
                  ],
                  [
                    118.8946418666049,
                    31.896348460720485
                  ],
                  [
                    118.89475451938353,
                    31.896494202034948
                  ],
                  [
                    118.8949127697154,
                    31.896472568573177
                  ],
                  [
                    118.89507102004728,
                    31.89659098324912
                  ],
                  [
                    118.89497446052275,
                    31.896643358922574
                  ],
                  [
                    118.89486583105764,
                    31.89652722151946
                  ],
                  [
                    118.89473976723394,
                    31.896555686582793
                  ],
                  [
                    118.89464991323194,
                    31.896472568573177
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89558063976011,
                    31.89636098537376
                  ],
                  [
                    118.895831426303,
                    31.89626192670585
                  ],
                  [
                    118.89576034776411,
                    31.896378064443667
                  ],
                  [
                    118.89559270970068,
                    31.896384896070725
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8955338737108,
                    31.896738440736613
                  ],
                  [
                    118.89562909213083,
                    31.8966678475035
                  ],
                  [
                    118.89568407741564,
                    31.89669289672146
                  ],
                  [
                    118.8958758553602,
                    31.89664507548127
                  ],
                  [
                    118.89588926640528,
                    31.896676956310824
                  ],
                  [
                    118.8956760307886,
                    31.89679423212446
                  ],
                  [
                    118.89553923812883,
                    31.896779430330994
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89481400391276,
                    31.896835659689845
                  ],
                  [
                    118.89502321621592,
                    31.89682313510114
                  ],
                  [
                    118.89507954260523,
                    31.896935856338057
                  ],
                  [
                    118.89483680268938,
                    31.89691422298005
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.90030569410342,
                    31.895330468462305
                  ],
                  [
                    118.90037006711978,
                    31.894952446672715
                  ],
                  [
                    118.9002466855051,
                    31.89481581190906
                  ],
                  [
                    118.90025204992313,
                    31.894720167453826
                  ],
                  [
                    118.90037006711978,
                    31.894738385452957
                  ],
                  [
                    118.90047735548038,
                    31.89540789442048
                  ],
                  [
                    118.90031642293948,
                    31.89542611228351
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8994106723878,
                    31.896054626282176
                  ],
                  [
                    118.89951259633037,
                    31.896086507316202
                  ],
                  [
                    118.89950186749431,
                    31.896204922488696
                  ],
                  [
                    118.89944822331401,
                    31.896218585768032
                  ],
                  [
                    118.8993570282075,
                    31.896136606061603
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89764575666928,
                    31.8976704317577
                  ],
                  [
                    118.89776913828396,
                    31.897633996916245
                  ],
                  [
                    118.89778523153805,
                    31.89775241009827
                  ],
                  [
                    118.8976672143414,
                    31.89774785574793
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89749018854641,
                    31.897588453344135
                  ],
                  [
                    118.89760284132504,
                    31.897470039951198
                  ],
                  [
                    118.89761893457913,
                    31.897593007702337
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89293092816214,
                    31.891430612158032
                  ],
                  [
                    118.89301675885062,
                    31.891594579878472
                  ],
                  [
                    118.89279145329337,
                    31.891690227580533
                  ],
                  [
                    118.8926519784246,
                    31.89164923572038
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.8939126166616,
                    31.891503486736507
                  ],
                  [
                    118.89359611599784,
                    31.891703891529875
                  ],
                  [
                    118.89370340435843,
                    31.892104699808083
                  ],
                  [
                    118.89340299694877,
                    31.891612798496027
                  ],
                  [
                    118.89384287922721,
                    31.891494377417345
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "system:index": "0",
          "class": 6
        }),
    Back_ground = 
    /* color: #000000 */
    /* shown: false */
    ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89811427738341,
                    31.895410199286935
                  ],
                  [
                    118.89741690303954,
                    31.894244248582986
                  ],
                  [
                    118.89781386997375,
                    31.894039294784946
                  ],
                  [
                    118.89840932037505,
                    31.894007413042015
                  ],
                  [
                    118.89839859153899,
                    31.895023068854673
                  ],
                  [
                    118.89894576217803,
                    31.895218911512085
                  ],
                  [
                    118.89832348968658,
                    31.89515514883215
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89239636444249,
                    31.892577820178655
                  ],
                  [
                    118.89239636444249,
                    31.89204948434259
                  ],
                  [
                    118.89324930690923,
                    31.89178076064221
                  ],
                  [
                    118.89359799408116,
                    31.89213146768828
                  ],
                  [
                    118.89249828838506,
                    31.892377417287364
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89321460885675,
                    31.894522398495504
                  ],
                  [
                    118.89296784562738,
                    31.893925755750097
                  ],
                  [
                    118.89352574510248,
                    31.893825555825885
                  ],
                  [
                    118.89383151693018,
                    31.89358871920788
                  ],
                  [
                    118.89411046666773,
                    31.893866546717142
                  ],
                  [
                    118.89420702619226,
                    31.894126155271376
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89452352685602,
                    31.89403506463396
                  ],
                  [
                    118.89420166177423,
                    31.89352495539895
                  ],
                  [
                    118.89436795873316,
                    31.893479409794107
                  ],
                  [
                    118.89462545079859,
                    31.893625155650298
                  ],
                  [
                    118.8949526802984,
                    31.893647928419504
                  ],
                  [
                    118.8945932642904,
                    31.89403506463396
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89980124056153,
                    31.892918131566326
                  ],
                  [
                    118.89962421476655,
                    31.89211652034686
                  ],
                  [
                    118.90027330934815,
                    31.893123087860108
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89605618463968,
                    31.89095032944322
                  ],
                  [
                    118.89608300672982,
                    31.889788877006886
                  ],
                  [
                    118.89652288900827,
                    31.88972055581912
                  ],
                  [
                    118.89649606691812,
                    31.890909337253685
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89677501665567,
                    31.890994251103127
                  ],
                  [
                    118.89680720316385,
                    31.889641499858577
                  ],
                  [
                    118.89708078848336,
                    31.889618726098487
                  ],
                  [
                    118.8974831198356,
                    31.889687047361804
                  ],
                  [
                    118.89756895052408,
                    31.89095325893316
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89915862732862,
                    31.900342945461155
                  ],
                  [
                    118.89910411441936,
                    31.899886784601296
                  ],
                  [
                    118.89936697090282,
                    31.898780096503817
                  ],
                  [
                    118.90024137104167,
                    31.898757325004084
                  ],
                  [
                    118.90018772686138,
                    31.90051830469718
                  ],
                  [
                    118.89916848743572,
                    31.900372569753518
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    118.89646572033023,
                    31.893642234564485
                  ],
                  [
                    118.89637452522372,
                    31.893587579905585
                  ],
                  [
                    118.89688950935458,
                    31.893605798128803
                  ],
                  [
                    118.89690560260867,
                    31.8933735155125
                  ],
                  [
                    118.89692706028079,
                    31.893186778082327
                  ],
                  [
                    118.8970558063135,
                    31.89320499638488
                  ],
                  [
                    118.89703971305941,
                    31.89382897107092
                  ],
                  [
                    118.89731866279696,
                    31.893824416526492
                  ],
                  [
                    118.89744204441165,
                    31.89380164380095
                  ],
                  [
                    118.89743131557559,
                    31.893915507372324
                  ],
                  [
                    118.89688950935458,
                    31.89390639829178
                  ],
                  [
                    118.89687341610049,
                    31.89381530743694
                  ],
                  [
                    118.89695388237094,
                    31.8938061983465
                  ],
                  [
                    118.896964611207,
                    31.893678670985707
                  ],
                  [
                    118.89643889824008,
                    31.893678670985707
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class": 7,
          "system:index": "0"
        });
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var roi = table;
var dsm_xz = DSM.clip(roi);
var rgb_xz = RGB.clip(roi).select("b1","b2","b3");



// 15m
var dsm_xz = dsm_xz.updateMask(dsm_xz.lte(15));
var rgb_xz = rgb_xz.updateMask(dsm_xz.lte(15));

// 
Map.centerObject(roi,15);
Map.addLayer(dsm_xz,{min:2,max:70},"DSM",0);
Map.addLayer(rgb_xz,{},"RGB",0);
var empty = ee.Image().toByte();
var outline = empty.paint({
  featureCollection:roi,
  color:0,
  width:3
});
Map.addLayer(outline,{palette:"ff0000"},"ROI");


// 
var terrain = ee.Algorithms.Terrain(dsm_xz).select("slope","aspect","hillshade");
print(terrain);
//
var slope = terrain.select('slope');
Map.addLayer(slope,{},"slope",0);
//
var aspect = terrain.select('aspect');
Map.addLayer(aspect,{},"aspect",0);
//
var hillshade = terrain.select('hillshade');
Map.addLayer(hillshade,{},"hillshade",0);

// GI
var GI = rgb_xz.select('b2').divide(rgb_xz.select('b2')).rename("GI");

// RGB
var glcm_rgb = rgb_xz.glcmTexture();

// 
var sample_img = rgb_xz.addBands(dsm_xz.rename('dsm')).addBands(terrain).addBands(GI).addBands(glcm_rgb);
var band_list = sample_img.bandNames();
print("",band_list);


// -------------------------------------------------------------------------------
// 
// var polygon =ee.FeatureCollection([Water,Road,Grass,Bare_ground,Play_ground,Back_ground]);

var polygon =ee.FeatureCollection([Low_veg,Back_ground]);

// 
var points = sample_img.sampleRegions({
  collection: polygon,
  properties: ['class'],
  scale: 5
});

print(":",points.size());

// XXXXXX
// bug,
var split = function(data,number){
  var tr = data.randomColumn('random', 555) ;
  var train = ee.FeatureCollection([]);
  var test = ee.FeatureCollection([]);
  for(var i = 6;i<=7;i++){
    var cate = tr.filter(ee.Filter.eq("class",i)).limit(number,"random");
    var cate_tr = cate.limit(number*0.7,"random",false);
    var cate_test = cate.limit(number*0.3,"random",true);
    train = train.merge(cate_tr);
    test = test.merge(cate_test);
  }
  return [train,test];
};

var train_test = split(points,2500);

var trainingPartition = train_test[0];
var testingPartition = train_test[1];

print(":",trainingPartition.size());
print(":",testingPartition.size());

// 
var figure_histogram = function(points){
                        var histogram = ui.Chart.feature.histogram({
                        features: points,
                        property: "class",
                        minBucketWidth:1, 
                        maxBuckets:3,
                        }).setOptions({
                            legend: {'position': 'none' },
                            title: 'counts of different categories',
                            hAxis: {'title': 'categories'},
                            vAxis: {'title': 'counts'},
                        });
                        print(histogram);
                        return histogram;
};

//  
figure_histogram(trainingPartition);
figure_histogram(testingPartition);

// -----------------------------------------RF-----------------------------------------

//

var inputbands = band_list;

var rf = ee.Classifier.smileRandomForest({
  numberOfTrees: 20,  
  bagFraction: 0.8
}).train({
  features: trainingPartition,
  classProperty: 'class',
  inputProperties: inputbands
});
//
var img_classfication = sample_img.classify(rf); 
//
var test = testingPartition.classify(rf);
//
var confusionMatrix = test.errorMatrix('class', 'classification');
print('confusionMatrix',confusionMatrix);//
print('overall accuracy', confusionMatrix.accuracy());//
print('kappa accuracy', confusionMatrix.kappa());//kappa
// Map.addLayer(img_classfication.clip(roi), {min: 6, max: 7, palette: ['blue', 'silver', 'green','brown','red','black']},"classification");
Map.addLayer(img_classfication, {min: 6, max: 7, palette: ['red','black']},"classification");



// 
var dem_xz_m = dsm_xz.updateMask(img_classfication.eq(7));
print("dem_xz_m",dem_xz_m);
print(dem_xz_m.projection());
Map.addLayer(dem_xz_m,{min:2,max:20},"dem_xz_m");

// // 
// var polygon_m = dem_xz_m.multiply(1000).toInt().reduceToVectors({  
//   reducer: ee.Reducer.countEvery(),  
//   geometry: roi,   
//   scale: 10,  
//   geometryType: "polygon",   
//   maxPixels: 1e13  
// });
// // Map.addLayer(polygon_m,{},'polygon_m');
// print("polygon_m", polygon_m.size());

// var points_m = dem_xz_m.sampleRegions({
//   collection: polygon_m,
//   properties: ['count'],
//   scale: 1
// });

// print("points_m_size",points_m.size());
// Map.addLayer(points_m,{},'points_m');


// // 
// var vectors = dem_xz_m.multiply(1000).toInt().reduceToVectors({  
//   reducer: ee.Reducer.countEvery(),  
//   geometry: roi,   
//   scale: 1,  
//   geometryType: "centroid",   
//   maxPixels: 1e13  
// });  
// print("vectors_size:", vectors.size()); 


// // shp
// //  .sample()  .map() 
// var points = image.addBands(ee.Image.pixelLonLat()) // 
//   //  .sample()  ee.Image  ee.FeatureCollection
//   .sample({ 
//     region: roi, // roi
//     geometries: true // 
//   }) 
//   //  .map() 
//   .map(function(sample){
//     var lat = sample.get('latitude'); 
//     var lon = sample.get('longitude');
//     var value = sample.get('elevation'); 
//     // value
//     return ee.Feature(ee.Geometry.Point([lon, lat]), {value: value}); 
//   }); 





// IDW
var samples = dem_xz_m.addBands(ee.Image.pixelLonLat())
  .sample({region: roi, numPixels: 1e13,
    scale:1, projection: 'EPSG:32650'})
  .map(function(sample) {
    var lat = sample.get('latitude');
    var lon = sample.get('longitude');
    var value = sample.get('b1'); 
    return ee.Feature(ee.Geometry.Point([lon, lat]), {value: value});
  });
  
// Map.addLayer(samples);


  // get mean
var mean_value = samples.reduceColumns({
reducer: 'mean',
selectors: ['value']
});

// get stdev
var sd_value = samples.reduceColumns({
reducer: 'stdDev',
selectors: ['value']
});

// print(mean_value,sd_value);

// Do the interpolation, valid to 70 kilometers.
var interpolated = samples.inverseDistance({
  range: 25,
  propertyName: 'value',
  mean: mean_value.get('mean'),
  stdDev: sd_value.get('stdDev'),
  gamma: 0.3});
  
// print(interpolated);

Export.image.toDrive({
                    image:interpolated, 
                    description:'IDW_DEM', 
                    scale:1, //
                    region:roi, //
                    maxPixels:1e13 //
                    });
